<navigation>Load nav</navigation>


<div class='container'>
	<div class='row'>
		<div class='col-md-offset-1 col-md-3'>
			Filter by: <select ng-model="vm.selected"
				ng-options="(category.name  | capitalize ) for category in vm.categories">
			</select>
		</div>
		<div class="col-md-offset-4 col-md-3">
			<button class="btn btn-lg btn-warning"
				ng-click="vm.updateCurrentValues()">
				Update History <span ng-show="vm.buttonLoad"
					class="glyphicon glyphicon-refresh spinning"></span>
			</button>
		</div>
	</div>
	<div class='row'>
		<div class='col-md-offset-1 col-md-10'>
			<table class='table table-striped table-hover light-background' id="tablespacing">
				<thead>
					<th>Icon</th>
					<th ng-click="vm.changeOrderBy('name')">Name</th>
					<th ng-click="vm.changeOrderBy('PurchasePrice')">Purchase
						Price</th>
					<th>Price w/ Inflation</th>
					<th ng-click="vm.changeOrderBy('currentValue')">Current High
						Bid on eBay</th>
					<th ng-click="vm.changeOrderBy('PurchaseDate')">Purchase Date
					</th>
				</thead>

				<tbody>
					<tr ng-hide="item.retired" class='pointer'
						ng-repeat='item in vm.items | searchByName:vm.keywords | categorySort:vm.selected.name | orderBy: vm.orderBy: vm.reverse'
						ng-click='vm.showItem(item)'>
						<td><img class='icon' ng-src="{{item.imageUrl}}"></td>
						<td class="text-center vert-align">{{item.name}}</td>
						<td class="text-center vert-align">{{item.purchasePrice | currency}}</td>
						<td class="text-center vert-align">{{item.inflationPrice | currency}}</td>
						<td ng-class="vm.updated(item)" class="text-center vert-align">{{item.currentValue | currency}}</td>
						<td class="text-center vert-align">{{item.purchaseDate | date: "MM-dd-yyyy"}}</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td></td>
						<td></td>
						<td class="text-center vert-align">Total</td>
						<td class="text-center vert-align">{{vm.totalPurchasePrice() | currency}}</td>
						<td class="text-center vert-align">{{vm.currentTotalValue() | currency}}</td>
						<td></td>
					</tr>
				</tfoot>
			</table>

		</div>
	</div>
	<div class="graph">
		<index-chart></index-chart>
	</div>
</div>
